# 依图以往面经 -- 算法工程师

# 题目

## 一面
1. 大数加法，包含小数和正负号
2. n个石头，甲乙两人轮流取1~2个石头，最后取石头的人输了，什么情况下甲一定赢。
3. n个石头，每次拿1~m个呢？编程实现？
4. 4只鸭子，随机在一个圆形池塘中游走，请问四只鸭子能分到同一个半圆的概率是多少？
- 蛇形矩阵
- 掷三个骰子，掷出来的三个值之和为10的概率。我用的笨方法，列举出所有情况算概率。
- N皇后问题。（LeetCode 52）
- LightGBM的GOSS算法和EFB算法以及和XGBoost的区别
- 前序遍历和中序遍历得到后续遍历；如果前序遍历和中序遍历不能建成一棵树，怎么判断。
- 二维矩阵从左上角到右下角的路径方法数。简单的dp，让优化，用排列组合的方式优化。
- 掷四个骰子，掷出来的四值之和概率最大的是哪一个。
- 第二问中的掷出来是14的概率有多大。
- 一个字符串，切割成一些回文子串，求所有可能
- `n*m` 矩阵，填充成 S 型走位的正整数；
- 证明根号 2 的无理性；
- 抛 n 次硬币，求反面比正面少的概率。
- 排序数组有重复，旋转之后查找，这个题简单的出乎意料，依图算法面试还是很硬核的。
- 二维数组左到右上到下非递增，查找元素，注意数组维度很大时要使用二分查找思想。


## 二面
1. 一个矩阵，从左到右，从上到下是递增的，可能会有相等的，给一个目标值，请查询其在矩阵中的位置，如果不存在则输出（-1，-1），如果有多个，则随便输出一个，请使用小于O(m+n)的解法。
2. 聊聊项目，主要是指标、业务场景、项目管理等等，比如各个项目的结果为什么有这些差异，识别场景是逐帧识别还是选帧，清晰度、跟踪策略？
3. 二维数组全是0或1，求全为1的最大子矩形面积，leetcode八十多题原题。之后聊自己在pdd实习的项目，问了一些细节和深度学习的基础知识。本轮主要是算法题，项目挖的不深。
4. 命名实体识别项目详细说一下，输入是什么输出是什么，模型结构，难点，评判指标。回答的很差，因为问得很细但是项目复习不到位。
5. 螺旋矩阵做过直接过。（LeetCode 54）
6. 平均需要抛掷多少次硬币，才会首次出现连续的两个正面？ 
7. 一枚硬币，抛n次，问正面数大于反面数的概率？ n是常数，不是无穷大。这题分奇数偶数讨论。偶数时写出概率的式子。
8. 基础细节。特征工程一般怎么做，Transformer的Multi-head attention计算细节。
9. 一副扑克牌54张，给3个人发牌，把大小王发到了同一个人的概率
10. 已知矩阵高h，宽w，蛇形矩阵。写代码把他画出来。 第二问，给定矩阵内一点y,x 在O(1)时间内给出该点的值。
11. 一个数组，为1, 2, 3, ...n ，现在去掉了一个数，剩下n-1个数。求去掉的是哪个数。注意: 不准改变原数组，原数组无序空间复杂度O（1）。 第二问，如果去掉了2个数呢？
12. 动态规划题，矩阵m*n，从左上角到右下角，路径和最大
13. 编程题，24点游戏。
14. 年利率为4%，利滚利，多少年之后本金翻倍。就是估算(1.04)n=2这个等式中的n。


问项目:
整体评价, 数据量,怎么划分, 样本不平衡, 评价指标,BN, 模型等等吧.
两道算法题:
最大水池面积
给定一个整数n, 1..n多少个唯一的BST?
应该都是leetcode原题吧.

## 三面
1. 项目中涉及的各个算法的评价指标意义和数值；
2. 项目中涉及到的所有改进点；
3. 性格；
4. 遇到的最大的挫折；
5. 是否保研；
6. 优缺点；
7. 探讨语音识别、nlp等算法领域的问题。
8. 给定一个二维矩阵，计算其子矩形范围内元素的总和，该子矩阵的左上角为 (row1, col1) ，右下角为 (row2, col2)。 要求求和复杂度为O(1)。
9. 数学题： 某大公司有这么一个规定：只要有一个员工过生日，当天所有员工全部放假一天。但在其余时候，所有员工都没有假期，必须正常上班。这个公司需要雇用多少员工，才能让公司一年内所有员工的总工作时间期望值最大？
10. 闲聊时间，部门是干嘛的啊，文本生成你现在主要用什么模型，你做了这么些时间NLP了，对这个领域最大的感受是什么这样的。

全程深挖项目，使用的模型，损失函数，数据都要求讲解，问的还是比较细的。
HR面：之前为什么没来依图，期望薪资，意向工作地点，个人性格等常规问题。


面试官刚毕业的博士,挺nice的.
刚开始介绍了很长时间的依图业务发展, 部门, 问了意向等等.
面试的话,主要问了一些DL的知识, 还有对最新的DL领域技术有什么了解,看了那些论文方法?
问了BN, Group normalization, group conv和separable conv
3D数据直接3D卷积,和2.5D有什么区别?
还有几个没怎么太听过.
问了论文的情况..
投的是算法研究员, 然后说他们组颜水成大佬要最后把关,所以这个还不是终面...
还了解到了一二面面试官的评价是很差和还不错....
最后面试官送我到电梯口还闲聊了一会,最后还说了声 “加油”~~



# 答案
## 一面
1. 参见大数加减乘除笔记 -- [传送门](https://github.com/Weizhuo-Zhang/leetcode_kick/blob/master/yitu_interview/answer_notes/big_number_operation.md)。
2. 每次保证给对方留3的倍数+1，如果到我的时候，剩余3的倍数+1，我必输。
3. 每次保证给对方留(m+1)的倍数+1，如果到我的时候，剩余(m+1)的倍数+1，我必输。
- 4只鸭子取一个画出连接圆心的一条直线，另外三只鸭子在一侧的概率是1/2，所以是（1/2)^3的概率这四只鸭子在同侧，四只鸭子取一个这个采样有4种，所以是4x(1/2)^3 = 1/2, n只的情况就是nx(1/2)^(n-1)
- 蛇形矩阵
- 首先计算出现9的概率：为了避免重复和遗漏，将点数和为9分成两种情况：
   - 1. 三个骰子点数都不相同：（1，2，6），（1，3，5），（2，3，4）
   - 2. 可以允许存在相同的点数：（2，2，5），（3，3，3），（4，4，1）。
   - 全不相同时对三个点数全排列，因此（1，2，6）排列共有3！= 6 种情况，存在相同点数时将不同的那个元素提出来利用插空法，所以（2，2，5）排列有3种，总的概率
   - 结果：P = (3!x3 + 3x2 + 1)/6x6x6 = 25/216.

- a
- a
- 走到(m,n)位置需要m+n步,从中选择n步向右走,就是组合数C(m+n) n
- 给一个数组，给一个值s。判断这个数组里是否存在子数组，其和等于s？如果有的话，有几个？ N(n)复杂度
- a
- 猜的14，猜对了。
- DP + 写了动态转移方程。


## 二面
1. a
2. a
3. a
4. a
5. a
6. 假设连续两个正面的期望是E，那么，先看第一次跑硬币：
   1. 如果抛到反面，那么还期望E次，就是E+1次；
   2. 如果抛到正面：第二次正面，那么结束，总数是2，如果是正面，那么相当于重头来过，总数是E+2次。
   - 故：E = 0.5(E+1)+0.25 * 2+0.25 * (E+2)
   - 解得：E = 6
7. 奇数答案是1/2
8. a
9. a
10. a
11. a
12. a
13. a
14. 说了几种方法，也算是有点道理，但估出来的值不够接近。在面试官提示下，又说了一种方法，大概就是，2->1.414->1.44->1.2->1.21->1.1，再估计几个1.04联乘可以得到1.1。

## 三面
1. a
2. a
3. a
4. a
5. a
6. a
7. a
8. 思路就是构建一个DP数组（原地修改也行，就是注意一下边界就好），dp(i)(j)表示原矩阵0,0到i,j这片区域的和。
9. 假设一年恒定365天，每个员工的生日都概率均等地分布在这365天里。对E求导，得到n约等于365。（总感觉这个数学题醉翁之意不在酒。。。）